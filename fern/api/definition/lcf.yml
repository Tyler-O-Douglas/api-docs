# yaml-language-server: $schema=https://raw.githubusercontent.com/fern-api/fern/main/fern.schema.json

service:
  auth: true
  base-path: ""
  endpoints:
    CreateLeastCostFulfillment:
      docs: For a shipment, find the lowest cost shipping option based on provided parameters.
      method: POST
      path: /lcf
      request: CreateLcfRequest
      response: LeastCostFulfillment
      errors:
        - NotAuthorized

types:
  CreateLcfRequest:
    properties:
      order: Order
    examples:
      - name: Example1
        value:
          order:
            orderId: "shopify_12345"
            shipTo: $ShipTo.WhiteHouse
            deliveryCommitment: 3
            package: $Package.Example1
  
  Order:
    properties:
      orderId:
        type: OrderId
        docs: A unique identifier for the order.
      shipTo:
        type: ShipTo
        docs: The address the order is being shipped to.
      deliveryCommitment:
        type: integer
        docs: |
          The number of days from the order date that the order must be 
          delivered to the customer by.  If no limit, set as null.
      package:
        type: Package
        docs: The dimensions and weight of the package being shipped.

  OrderId:
    type: string
    docs: The unique identifier for the order, this can be an order number from your Shopify store for example.
    examples:
      - value: "String-Test-12345"

  ShipTo:
    properties:
      street1:
        type: string
        docs: The street address you're shipping an order to.  If your customer has a second address line, like an apartment number add street2.
      street2: optional<string>
      city:
        type: string
        docs: The city you're shipping an order to'.
      state:
        type: string
        docs: |
          The state you're shipping an order to. 
          Two digit code.  For example, 'CA' for California.
      postalCode:
        type: string
        docs: |
          The postal code you're shipping an order to. 
          This must be a 5 or 9 digit numerical code.  If 9 digits, you must include a hyphen between the first 5 and last 4 digits.
      country: 
        type: Country
      isResidential:
        type: boolean
        docs: If residential, set as true.  If commercial, set as false.
    examples:
      - name: WhiteHouse
        value:
          street1: 1600 Pennsylvania Avenue NW
          city: Washington DC
          state: Washington DC
          postalCode: "20500"
          country: US
          isResidential: false
  
  Country:
    enum:
      - US
    docs: The country you're shipping an order to.  Only 'US' is supported at this time.

  Package:
    properties:
      dimensions: Dimensions
      weight: Weight
    examples:
      - name: Example1
        value:
          dimensions: $Dimensions.Example1
          weight: $Weight.Example1

  Dimensions:
    type: set<double>
    docs: The length, width, and height of the package in inches.  Order does not matter.
    examples:
      - name: Example1
        value: [14, 10, 3]

  Weight:
    type: double
    docs: The weight of the package in pounds. Include up to 2 decimal places.
    examples:
      - name: Example1
        value: 1.5

  LeastCostFulfillment: 
    properties:
      orderId: 
        type: string
      shipTo: 
        type: ShipTo
      tags:
        type: set<string>
        docs: An array of tags with high level information about the prediction String just made. 
      comments: 
        type: set<string>
        docs: |
          An array of comments with detailed information about the prediction String just made.
          First comment includes the carrier, service code, account, cost, and package
      service: Service
      parcel: Parcel

  Service:
    properties:
      carrier:
        type: string
        docs: |
          The carrier that will be used to ship the package.
          Options are: 'usps', 'ups', 'fedex', 'dhl'
      service:
        type: string
        docs: | 
          The service code that will be used to ship the package.
          Options are as follows:
            USPS: 
              'usps_first_class_mail', 'usps_priority_mail', 'usps_priority_mail_express', 'usps_ground_advantage', 'usps_parcel_select'
            UPS: 
              'ups_ground', 'ups_surepost_less_than_1_lb', 'ups_surepost_1_lb_or_greater', 'ups_next_day_air', 'ups_next_day_air_early_am', 'ups_next_day_air_saver', 'ups_2nd_day_air', 'ups_2nd_day_air_am', 'ups_3_day_select', 'ups_mail_innovations_first_class', 'ups_mail_innovations_priority_mail'
            FedEx:
              'fedex_ground', 'fedex_home_delivery', 'fedex_smart_post_parcel_select', 'fedex_smartpost_parcel_select_lightweight', 'fedex_2day', 'fedex_2day_am', 'fedex_express_saver', 'fedex_standard_overnight', 'fedex_priority_overnight', 'fedex_first_overnight'
      package: 
        type: string
        docs: | 
          The package code for for the requested service.  This will almost always be 'package' unless the service requires a specific package code.
          USPS flat-rate package codes include:
            'flat_rate_padded_envelope', 'small_flat_rate_box', 'medium_flat_rate_box', 'medium_flat_rate_box', 'large_flat_rate_box
          USPS Special-rates include:
            'cubic', 'large_envelope_or_flat'
          FedEx flat-rate package codes include:
            'fedex_envelope_onerate', 'fedex_pak_onerate', 'fedex_small_box_onerate', 'fedex_medium_box_onerate', 'fedex_large_box_onerate', 'fedex_extra_large_box_onerate'
      deliveryDate: 
        type: date
        docs: An RFC 3339, section 5.6 date (YYYY-MM-DD). For example, 2017-07-21.
      saturdayDelivery:
        type: boolean
        docs: If the package can be delivered by the carrier on Saturday. 'True' only possible for UPS and FedEx.
      accountNumber:
        type: string
        docs: Your carrier account that will be used to ship the package.
      cost:
        type: double
        docs: The cost of the shipping label String reccomends. 
    examples:
      - name: TestService
        value:
          carrier: "fedex"
          service: "fedex_2day"
          package: "fedex_medium_box_onerate"
          deliveryDate: "2023-06-09"
          saturdayDelivery: false
          accountNumber: "StringTest12345"
          cost: 12.35
  

  Parcel:
    properties:
      name: 
        type: string
        docs: |
          The name of the package String reccomends.
          Defaults to 'CUSTOM_PACKAGE' if the user provides a package.
      dimensions: 
        type: ParcelDimensions
      weight: 
        type: ParcelWeight
    examples:
      - name: TestParcel
        value:
          name: "CUSTOM_PACKAGE"
          dimensions:
            units: "inches"
            length: 14
            width: 10
            height: 3
          weight:
            value: 1.5
            unit: "pounds"

  ParcelDimensions:
    properties:
      units:
        type: string
        docs: The units of measurement for the package dimensions.  Only 'inches' is supported at this time.
      length:
        type: double
        docs: The length of the package in inches.
      width:
        type: double
        docs: The width of the package in inches.
      height:
        type: double
        docs: The height of the package in inches.
  
  ParcelWeight:
    properties:
      value:
        type: double
        docs: The weight of the package in pounds.
      unit:
        type: string
        docs: The units of measurement for the package weight.  Only 'pounds' is supported at this time.






errors:
  NotAuthorized:
    status-code: 401
